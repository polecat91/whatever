!function(){"use strict";var i={getLoginForm:function(){return SCOPE.getDocument().find(".form-login")},getLoginEmail:function(){return this.getLoginForm().find(".login-email")},getLoginPassword:function(){return this.getLoginForm().find(".login-password")},getLoginBtn:function(){return this.getLoginForm().find(".login-button")},getSignUpForm:function(){return SCOPE.getDocument().find(".form-sign-up")},getSignUpUser:function(){return this.getSignUpForm().find(".sign-up-username")},getSignUpEmail:function(){return this.getSignUpForm().find(".sign-up-email")},getSignUpPassword:function(){return this.getSignUpForm().find(".sign-up-password")},getSignUpRePassword:function(){return this.getSignUpForm().find(".sign-up-re-password")},getSetSignUpBtn:function(){return this.getSignUpForm().find(".sign-button")},signUp:function(){var i=this,n=$.trim(i.getSignUpUser().val()),t=$.trim(i.getSignUpEmail().val()),r=i.getSignUpPassword().val(),e=i.getSignUpRePassword().val();if(r!==e)SCOPE.addNotify("Error","A két jelszó nem térhet el.",!0);else if(i.isValidEmail(t)){if(n&&t&&r&&e){var o=JSON.stringify({username:n,email:t,password:r,re_password:e});AJAX_SignUp(o,function(i){if(i){var n=JSON.parse(i);n.isError?SCOPE.addNotify("Error",n.message,n.isError):(SCOPE.addNotify("Success",n.message,n.isError),SCOPE.addNotify("Success","Belépés folyamatban.<br />Kis türelmet.",!1),setTimeout(function(){location.reload()},2200))}})}}else SCOPE.addNotify("Error","Érvénytelen email cím.",!0)},signIn:function(){var i=this,n=$.trim(i.getLoginEmail().val()),t=i.getLoginPassword().val();if(i.isValidEmail(n)&&t){var r=JSON.stringify({email:n,password:t});AJAX_Login(r,function(i){JSON.parse(i)?location.reload():SCOPE.addNotify("Error","Hibás email cím és/vagy jelszó.",!0)})}else{var e="";i.isValidEmail(n)||(e="Invalid email address"),SCOPE.addNotify("Error",e,!0)}},isValidEmail:function(i){return!!i&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i)}};i.getLoginForm().submit(function(){return i.signIn(),!1}),i.getSignUpForm().submit(function(){return i.signUp(),!1})}();